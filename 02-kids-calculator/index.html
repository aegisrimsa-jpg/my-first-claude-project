<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>小朋友計算機</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- 語言選擇列 -->
  <div class="lang-bar">
    <button class="lang-btn active" onclick="setLang('zh')" data-lang="zh">繁體中文</button>
    <button class="lang-btn" onclick="setLang('en')" data-lang="en">English</button>
    <button class="lang-btn" onclick="setLang('ja')" data-lang="ja">日本語</button>
  </div>

  <h1 class="title" id="mainTitle">小朋友計算機</h1>

  <div class="container">
    <!-- 左側：計算機 -->
    <div class="calculator">
      <div class="display" id="display">0</div>
      <div class="buttons">
        <button class="btn btn-clear" onclick="clearAll()">C</button>
        <button class="btn btn-backspace" onclick="backspace()">⌫</button>
        <button class="btn btn-paren" onclick="inputChar('(')">(</button>
        <button class="btn btn-paren" onclick="inputChar(')')">)</button>

        <button class="btn btn-num" onclick="inputChar('7')">7</button>
        <button class="btn btn-num" onclick="inputChar('8')">8</button>
        <button class="btn btn-num" onclick="inputChar('9')">9</button>
        <button class="btn btn-op" onclick="inputChar('/')">÷</button>

        <button class="btn btn-num" onclick="inputChar('4')">4</button>
        <button class="btn btn-num" onclick="inputChar('5')">5</button>
        <button class="btn btn-num" onclick="inputChar('6')">6</button>
        <button class="btn btn-op" onclick="inputChar('*')">×</button>

        <button class="btn btn-num" onclick="inputChar('1')">1</button>
        <button class="btn btn-num" onclick="inputChar('2')">2</button>
        <button class="btn btn-num" onclick="inputChar('3')">3</button>
        <button class="btn btn-op" onclick="inputChar('-')">−</button>

        <button class="btn btn-num btn-zero" onclick="inputChar('0')">0</button>
        <button class="btn btn-num" onclick="inputChar('.')">.</button>
        <button class="btn btn-equal" onclick="calculate()">=</button>
      </div>
    </div>

    <!-- 中間：計算過程 + 重點整理 -->
    <div class="middle-panel">
      <div class="steps-panel">
        <h2 class="steps-title" id="stepsTitle">計算過程</h2>
        <div class="steps-content" id="steps">
          <div class="step-placeholder" id="stepsPlaceholder">按下 = 後顯示解題步驟</div>
        </div>
      </div>
      <div class="tips-panel">
        <h2 class="tips-title" id="tipsTitle">重點整理</h2>
        <div class="tips-content" id="tips">
          <div class="tip-placeholder" id="tipsPlaceholder">計算後會顯示學習重點</div>
        </div>
      </div>
    </div>

    <!-- 右側：計算記錄 -->
    <div class="history-panel">
      <div class="history-header">
        <h2 class="history-title" id="historyTitle">計算記錄</h2>
        <div class="history-actions">
          <button class="action-btn" onclick="downloadHistory('txt')" title="下載 TXT" id="btnDownloadTxt">📄 TXT</button>
          <button class="action-btn" onclick="downloadHistory('csv')" title="下載 CSV" id="btnDownloadCsv">📊 CSV</button>
          <button class="action-btn btn-danger" onclick="clearHistory()" id="btnClearHistory">🗑️</button>
        </div>
      </div>
      <div class="history-list" id="historyList">
        <div class="history-placeholder" id="historyPlaceholder">尚無計算記錄</div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
